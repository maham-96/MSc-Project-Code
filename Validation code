
import re
import os, sys
path = os.path.dirname(sys.argv[0])


f = open("correct.txt","r")
antibodydescriptor = f.read()

removespace = re.compile(r'\s+')
antibodydescriptor = re.sub(removespace, '', antibodydescriptor)


chains = antibodydescriptor.split("|")

domains = []
for chain in chains:
    domainSplit = chain.split("-")
    domains.append(domainSplit)
    
for domain in domains:
    for eachdomain in domain:
        print(eachdomain)
        
        
        domainname = '(^CL|CH1|H|CH2|CH4|L|X)[@+>_!*]?(?:\([1-9][0-9]{0,1}\))?(?:\([1-9][0-9]{0,1}\:[1-9][0-9]{0,1}\))?(?:\([1-9][0-9]{0,1}\:[1-9][0-9]{0,1}\)(\{[12]\}))?'
        #domainspecificity = '(^VL|CL|VH|CH1|H|CH2|CH3|CH4|L|X)[@+>_!*]?(?:\([1-9][0-9]{0,1}\))?(?:\([1-9][0-9]{0,1}\:[1-9][0-9]{0,1}\))?(?:\([1-9][0-9]{0,1}\:[1-9][0-9]{0,1}\)(\{[12]\}))?'
        validmatch = re.fullmatch(domainname, eachdomain, re.IGNORECASE)
        domainspecificity = '(^VL|VH|CH3)[@+>_!*]?(?:\.[a-z]?[a-z])?(?:\([1-9][0-9]{0,1}\))?(?:\([1-9][0-9]{0,1}\:[1-9][0-9]{0,1}\))?(?:\([1-9][0-9]{0,1}\:[1-9][0-9]{0,1}\)(\{[12]\}))?'
        validmatchspec = re.fullmatch(domainspecificity, eachdomain, re.IGNORECASE)
        
        if validmatch or validmatchspec:
            print('Valid')
            
            
